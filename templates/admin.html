{% extends "base.html" %}
{% block content %}
    <div id="index-banner" class="parallax-container">
        <div class="section no-pad-bot">
            <div class="container">             
                <h1 class="header center blue-grey-text text-lighten-4">
                    Category management                        
                </h1>
                <div class="row center">
                    <h5 class="header col s12 white-text light">
                        Create, edit and delete categories
                    </h5>
                </div>                                  
            </div>
        </div>
        <div class="parallax">
            <img src="{{ url_for('static', filename='assets/backgroundImage1.jpg') }}" alt="Data background image 1 sourced from Pixaby">
        </div>
    </div>
    <section>
        {% with messages = get_flashed_messages() %}
            {% if messages %}
                {% for message in messages %}
                    <div class="row flashes">
                        <h5 class="blue-grey-text lighten-4 center-align">{{ message }}</h5>
                    </div>
                {% endfor %}
            {% endif %}
        {% endwith %}
    </section>    
    <div class="row center create__category__button">
        <button type="submit" class="btn-large waves-effect waves-light blue-grey lighten-1">
            <a class="nav-link white-text" href="{{ url_for('create_category') }}">
                Create new category
            </a>
        </button>
    </div>  
    <div class="section">
        <div class="row">
            <h4 class="header center blue-grey-text">
                Campaign Type
            </h4>
            {% for category in categories %}
                {% if category.category_type|lower == "campaign type"|lower %}
                    <div class="col s12 m12 l4">
                        <div class="card medium blue-grey lighten-3 center-align category__management__card">
                            <div class="card-content white-text">
                                <span class="card-title category__management__title">{{ category.category_name }}</span>
                            </div>            
                            <div class="card-action">
                                <a href="{{ url_for ('edit_category', category_id=category._id) }}" class="btn-small blue-grey lighten-2 accent-4">Edit</a>
                                <a href="{{ url_for('delete_category', category_id=category._id) }}" class="btn-small blue-grey lighten-2 accent-4">Delete</a>
                            </div>
                        </div>
                    </div>
                {% endif %}
            {% endfor %}
        </div> 
        <div class="row">
            <h4 class="header center blue-grey-text">
                Communication Platform
            </h4>
            {% for category in categories %}
                {% if category.category_type|lower == "communication platform"|lower %}
                    <div class="col s12 m12 l4">
                        <div class="card medium blue-grey lighten-3 center-align category__management__card">
                            <div class="card-content white-text">
                                <span class="card-title category__management__title">{{ category.category_name }}</span>
                            </div>               
                            <div class="card-action">
                                <a href="{{ url_for ('edit_category', category_id=category._id) }}" class="btn-small blue-grey lighten-2 accent-4">Edit</a>
                                <a href="{{ url_for('delete_category', category_id=category._id) }}" class="btn-small blue-grey lighten-2 accent-4">Delete</a>
                            </div>
                        </div>
                    </div>
                {% endif %}
            {% endfor %}
        </div>      
        <div class="row">
            <h4 class="header center blue-grey-text">
                Industries
            </h4>
            {% for category in categories %}
                {% if category.category_type|lower == "industry"|lower %}
                    <div class="col s12 m12 l4">
                        <div class="card medium blue-grey lighten-3 center-align category__management__card">
                            <div class="card-content white-text">
                                <span class="card-title category__management__title">{{ category.category_name }}</span>
                            </div>         
                            <div class="card-action">
                                <a href="{{ url_for ('edit_category', category_id=category._id) }}" class="btn-small blue-grey lighten-2 accent-4">Edit</a>
                                <a href="{{ url_for('delete_category', category_id=category._id) }}" class="btn-small blue-grey lighten-2 accent-4">Delete</a>
                            </div>
                        </div>
                    </div>
                {% endif %}
            {% endfor %}
        </div>             
    </div>   
{% endblock %}